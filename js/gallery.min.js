const goToWinners=()=>{window.location.href="ganadores.html"},goToHome=()=>{window.location.href="index.html"},goToAbout=()=>{window.location.href="acerca-de.html"};document.getElementById("hamburger-icon").addEventListener("click",function(){this.classList.toggle("active"),document.getElementById("mobile-nav").classList.toggle("active")});let currentIndex=0;const $galleryItems=document.querySelectorAll(".fullgallery-item img"),$modalViewGallery=document.getElementById("gallery-view-modal"),$fullGallery=document.getElementById("gallery-modal"),$modalImg=document.getElementById("gallery-image"),$leftArrow=document.getElementById("left-arrow"),$rightArrow=document.getElementById("right-arrow");let totalImages=$galleryItems.length;document.querySelectorAll(".fullgallery-item img").forEach((e,a)=>{e.addEventListener("click",function(){openModalGallery(this.src,a)})});const openModalGallery=(e,a)=>{currentIndex=a;let l=document.getElementById("gallery-image");updateImageIndex(),l.src=e,$modalViewGallery.style.display="block",updateGalleryArrow(a)},closeModalGallery=()=>{$modalViewGallery&&($modalViewGallery.style.display="none")},openFullGallery=()=>{$fullGallery.style.display="block",document.querySelectorAll(".fullgallery-item img").forEach((e,a)=>{e.addEventListener("click",function(){openModalGallery(this.src,a)})})},closeFullGallery=()=>{$fullGallery&&($fullGallery.style.display="none")};function updateImageIndex(){let e=document.getElementById("imageIndex");e.textContent=`${currentIndex+1} / ${totalImages}`,updateGalleryArrow(currentIndex)}const prevImage=()=>{currentIndex=currentIndex>0?currentIndex-1:totalImages-1,$modalImg.src=$galleryItems[currentIndex].src,updateImageIndex()},nextImage=()=>{currentIndex=currentIndex<totalImages-1?currentIndex+1:0,$modalImg.src=$galleryItems[currentIndex].src,updateImageIndex()},updateGalleryArrow=e=>{0==e?($leftArrow.classList.remove("active"),$leftArrow.classList.add("inactive")):($leftArrow.classList.remove("inactive"),$leftArrow.classList.add("active")),e==totalImages-1?($rightArrow.classList.remove("active"),$rightArrow.classList.add("inactive")):($rightArrow.classList.remove("inactive"),$rightArrow.classList.add("active"))};function getFullImageUrl(e){return`${window.location.origin}/${e.replace("./","")}`}const GALLERY_IMAGES=["./assets/images/gallery-1.png","./assets/images/gallery-2.png","./assets/images/gallery-3.png","./assets/images/gallery-4.png","./assets/images/gallery-5.png","./assets/images/gallery-6.png","./assets/images/gallery-7.png","./assets/images/gallery-8.png","./assets/images/gallery-9.png","./assets/images/gallery-10.png","./assets/images/gallery-11.png","./assets/images/gallery-12.png","./assets/images/gallery-13.png","./assets/images/gallery-14.png","./assets/images/gallery-15.png","./assets/images/gallery-16.png","./assets/images/gallery-17.png","./assets/images/gallery-18.png","./assets/images/gallery-19.png","./assets/images/gallery-20.png","./assets/images/gallery-21.png","./assets/images/gallery-22.png","./assets/images/gallery-23.png","./assets/images/gallery-24.png","./assets/images/gallery-25.png","./assets/images/gallery-26.png","./assets/images/gallery-27.png","./assets/images/gallery-28.png","./assets/images/gallery-29.png","./assets/images/gallery-30.png",],$GALLERY_MODAL=document.getElementById("gallery-modal"),$GALLERY_IMAGE=document.getElementById("gallery-image"),$CLOSE_GALLERY=document.getElementById("close_modal"),$PREV_BUTTON=document.querySelector(".prev"),$NEXT_BUTTON=document.querySelector(".next"),$GALLERY_COUNTER=document.getElementById("counter-number"),$GALLERY_SHARE=document.getElementById("gallery-share"),$SHARE_DROPDOWN=document.getElementById("share-dropdown");function download(){let e=getCurrentImageUrl(currentIndex);if(!e)throw Error("URL de imagen no v\xe1lida.");try{let a=createDownloadLink(e);onGalleryDownload(e),a.click()}catch(l){console.error("No se ha podido descargar la imagen:",l)}}function createDownloadLink(e){let a=document.createElement("a");return a.href=e,a.download=extractFileName(e),a}function extractFileName(e){return e.split("/").pop()}function getCurrentImageUrl(e){return GALLERY_IMAGES[e]||null}async function share(){try{let e=getCurrentImageUrl(currentIndex),a=await fetchImageBlob(e),l=createFileFromBlob(a,e);await isShareSupported(l)?(await navigator.share({title:"Imagen de la galeria.",files:[l]}),onGalleryShare(e)):openShareDropdown($SHARE_DROPDOWN,$GALLERY_SHARE)}catch(t){console.error("Error al compartir imagen:",t)}}async function fetchImageBlob(e){let a=await fetch(e);if(!a.ok)throw Error(`Error al recuperar la imagen: ${a.statusText}`);return await a.blob()}function createFileFromBlob(e,a){let l=extractFileExtension(a),t=getMimeType(l),r=`imagen.${l}`;return new File([e],r,{type:t})}function extractFileExtension(e){return e.split(".").pop().toLowerCase()}function getMimeType(e){return({jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp"})[e]||"application/octet-stream"}async function isShareSupported(e){return navigator.canShare&&navigator.canShare({files:[e]})}function openShareDropdown(e,a){displayShareDropdown(e),setGalleryShareStyles(a)}function closeShareDropdown(e,a){hideShareDropdown(e),unsetGalleryShareStyles(a)}function displayShareDropdown(e){e&&(e.style.display="block")}function hideShareDropdown(e){e&&(e.style.display="none")}function setGalleryShareStyles(e){e&&(e.style.borderRadius="34.5px 34.5px 0 34.5px")}function unsetGalleryShareStyles(e){e&&(e.style.borderRadius="34.5px")}function handleOutsideClick(e,a,l){e.target.closest(".share_wrapper")||e.target.matches(".share-dropdown")||closeShareDropdown(a,l)}function bindOutsideClick(e,a){window.addEventListener("click",l=>handleOutsideClick(l,e,a))}function shareInFacebook(e=currentIndex){shareOnPlatform(e,"https://www.facebook.com/sharer/sharer.php?u=")}function shareInWhatsapp(e=currentIndex){shareOnPlatform(e,"https://wa.me/?text=")}function shareOnPlatform(e,a){let l=getCurrentImageUrl(e),t=getFullImageUrl(l),r=a+encodeURIComponent(t);window.open(r,"_blank")}document.addEventListener("DOMContentLoaded",function(){$SHARE_DROPDOWN&&$GALLERY_SHARE&&bindOutsideClick($SHARE_DROPDOWN,$GALLERY_SHARE)});