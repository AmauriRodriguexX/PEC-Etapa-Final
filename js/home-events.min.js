function onKnowTheStory(e,a){window.dataLayer.push({event:"click_element",CDAction:"conoce_mi_historia",CDLabel:e,CDValue:a,detail:"",CDFunnel:"PE Etapa Final 2024"})}function onGallery(e){window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"ver_fotos",CDFunnel:"PE Etapa Final 2024",CDValue:e})}function onHomeShare(e){window.dataLayer.push({event:"click_element",CDCategory:"compartir_pagina",CDLabel:e,CDFunnel:"PE Etapa Final 2024"})}function onVideoStart(e,a){window.dataLayer.push({event:"pec_2024_videos",CDCategory:e,CDAction:"01. Inicio",CDLabel:"",CDValue:a,CDFunnel:"PE Etapa Final 2024"})}function onVideoPause(e,a,t){window.dataLayer.push({event:"pec_2024_videos",CDCategory:e,CDAction:`02. Progreso ${a}%`,CDLabel:"",CDValue:t,CDFunnel:"PE Etapa Final 2024"})}function onVideoCompletion(e,a){window.dataLayer.push({event:"pec_2024_videos",CDCategory:e,CDAction:"03. Completado",CDLabel:"",CDValue:a,CDFunnel:"PE Etapa Final 2024"})}function onGalleryDownload(e){let a=getFullUrl(e);window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"descargar_foto",CDFunnel:"PE Etapa Final 2024",CDValue:a}),console.log("Evento registrado (onGalleryDownload):",{fullImageUrl:a})}function onGalleryShare(e){window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"compartir_foto",CDLabel:"",CDFunnel:"PE Etapa Final 2024",CDValue:e})}function onDropdownShare(e,a){let t=getFullUrl(a||window.location.href);window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"compartir_foto",CDLabel:e,CDFunnel:"PE Etapa Final 2024",CDValue:t}),console.log(`Evento registrado (onDropdownShare - ${e}):`,{fullImageUrl:t})}function shareInFacebook(){onDropdownShare("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank")}function shareInWhatsapp(){onDropdownShare("whatsapp"),window.open(`https://wa.me/?text=${encodeURIComponent(window.location.href)}`,"_blank")}function onChooseGroup(e,a){if("true"===a.getAttribute("data-no-datalayer")){console.log(`Bot\xf3n de ${e} no registra en el dataLayer.`);return}dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"ver_foto",CDFunnel:"PE Etapa Final 2024",CDValue:e}),console.log(`Registrado en el dataLayer: ${e}`)}function getFullUrl(e){return e.startsWith("http")||e.startsWith("//")?e:new URL(e,window.location.origin).href}function registrarEventoGanadoresPEC2024(e,a,t,o){let n=getFullUrl(t),l=getFullUrl(o);window.dataLayer.push({event:"ganadores_pec2024",CDCategory:a,CDAction:"conoce_mi_historia",CDLabel:`participante_${e}`,CDValue:l,detail:n,CDFunnel:"PE Etapa Final 2024"}),console.log("Evento registrado (Ganadores PEC 2024):",{fullImageUrl:n,fullVideoUrl:l})}function registrarEventoGanadoresPECCategoriasEspeciales(e,a,t,o){let n=getFullUrl(t),l=getFullUrl(o);window.dataLayer.push({event:"ganadores_pec2024_categorias_especiales",CDCategory:a,CDAction:"conoce_mi_historia",CDLabel:`participante_${e}`,CDValue:l,detail:n,CDFunnel:"PE Etapa Final 2024"}),console.log("Evento registrado (Categor\xedas Especiales):",{fullImageUrl:n,fullVideoUrl:l})}function registrarEventoVerFoto(e){let a=getFullUrl(e);window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"ver_foto",CDFunnel:"PE Etapa Final 2024",CDValue:a}),console.log("Evento registrado (Ver Foto):",{fullImageUrl:a})}function registrarEventoDescargarFoto(e){let a=getFullUrl(e);window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"descargar_foto",CDFunnel:"PE Etapa Final 2024",CDValue:a}),console.log("Evento registrado (Descargar Foto):",{fullImageUrl:a})}function handleShareClick(e){let a=getFullUrl(e);console.log("URL para compartir:",a),window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"compartir_foto",CDFunnel:"PE Etapa Final 2024",CDValue:a}),toggleDropdown()}function toggleDropdown(){let e=document.getElementById("share-dropdown");e.style.display="none"===e.style.display||""===e.style.display?"block":"none"}function shareInFacebook(e){let a=getFullUrl(e),t=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}`;console.log("Compartiendo en Facebook:",t),window.open(t,"_blank","width=600,height=400")}function shareInWhatsapp(e){let a=getFullUrl(e),t=`https://api.whatsapp.com/send?text=${encodeURIComponent(a)}`;console.log("Compartiendo en WhatsApp:",t),window.open(t,"_blank","width=600,height=400")}window.dataLayer=window.dataLayer||[],document.querySelectorAll(".carousel .carousel-button").forEach(e=>{e.addEventListener("click",function(a){e.classList.contains("no-datalayer")?(console.log(`Bloqueado del dataLayer para: ${e.dataset.group}`),window.dataLayer=window.dataLayer||[],window.dataLayer.findIndex(a=>a.CDValue===e.dataset.group)):console.log("Se evitan problemas redondos")})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("share-facebook");e&&e.addEventListener("click",function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"click_element",CDCategory:"compartir_pagina",CDLabel:"facebook",CDFunnel:"PE Etapa Final 2024"}),console.log("Evento registrado: Facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,"_blank")});let a=document.getElementById("share-whatsapp");a&&a.addEventListener("click",function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"click_element",CDCategory:"compartir_pagina",CDLabel:"whatsapp",CDFunnel:"PE Etapa Final 2024"}),console.log("Evento registrado: WhatsApp"),window.open(`https://wa.me/?text=${encodeURIComponent(window.location.href)}`,"_blank")})}),function(){let e="";function a(e){return e.startsWith("http")||e.startsWith("//")?e:new URL(e,window.location.origin).href}window.addEventListener("click",function(e){let a=document.getElementById("share-dropdown"),t=document.querySelector(".share_container");t.contains(e.target)||(a.style.display="none")}),window.openModalGallery=function t(o){let n=document.getElementById("gallery-image");n.src=o.src;let l=a(o.getAttribute("src"));e=l,document.getElementById("gallery-view-modal").style.display="block"},window.closeModalGallery=function e(){document.getElementById("gallery-view-modal").style.display="none"},window.toggleDropdown=function e(){let a=document.getElementById("share-dropdown");a.style.display="none"===a.style.display||""===a.style.display?"block":"none"},window.shareInFacebook=function t(){let o=a(e||window.location.href),n=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}`;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"compartir_foto",CDLabel:"facebook",CDFunnel:"PE Etapa Final 2024",CDValue:o}),console.log("Compartiendo en Facebook:",{fullImageUrl:o}),window.open(n,"_blank")},window.shareInWhatsapp=function t(){let o=a(e||window.location.href),n=`https://wa.me/?text=${encodeURIComponent(o)}`;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"galeria_PEC",CDCategory:"Galer\xeda etapa final PEC",CDAction:"compartir_foto",CDLabel:"whatsapp",CDFunnel:"PE Etapa Final 2024",CDValue:o}),console.log("Compartiendo en WhatsApp:",{fullImageUrl:o}),window.open(n,"_blank")}}(),window.onload=function(){window.share=function e(a){let t=encodeURIComponent(window.location.href),o="";"facebook"===a?o=`https://www.facebook.com/sharer/sharer.php?u=${t}`:"whatsapp"===a&&(o=`https://wa.me/?text=${t}`),window.open(o,"_blank")}},document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector("#ganadores"),a=e.querySelector(".votes_container"),t=a.querySelectorAll(".competitor_container"),o=0,n=0;if(window.innerWidth<=768){let l=document.createElement("div");l.className="custom-section-move";let r=document.createElement("div");r.className="dots_container",t.forEach((e,a)=>{let t=document.createElement("span");t.className="dot",0===a&&t.classList.add("active"),r.appendChild(t)});let i=document.createElement("div");i.id="ganadores-prev-button",i.className="nav-arrow left-arrow inactive",i.textContent="←";let s=document.createElement("div");s.id="ganadores-next-button",s.className="nav-arrow right-arrow",s.textContent="→";let c=document.createElement("div");c.className="buttons-container",c.appendChild(i),c.appendChild(s),l.appendChild(r),l.appendChild(c),a.parentNode.appendChild(l),a.addEventListener("scroll",function e(){let o=a.scrollLeft,n=a.offsetWidth,l=Math.round(o/n),c=r.querySelectorAll(".dot");c.forEach((e,a)=>{e.classList.toggle("active",a===l)}),i.classList.toggle("inactive",0===l),s.classList.toggle("inactive",l===t.length-1),i.style.backgroundColor=l>0?"#CE0058":"#D8DADA",i.style.color=l>0?"white":"#9D9D9D",s.style.backgroundColor=l<t.length-1?"#CE0058":"#D8DADA",s.style.color=l<t.length-1?"white":"#9D9D9D"}),r.querySelectorAll(".dot").forEach((e,t)=>{e.addEventListener("click",function(e){e.stopPropagation(),a.scrollTo({left:t*a.offsetWidth,behavior:"smooth"})})}),i.addEventListener("click",function(e){e.stopPropagation();let t=Math.round(a.scrollLeft/a.offsetWidth);t>0&&a.scrollTo({left:(t-1)*a.offsetWidth,behavior:"smooth"})}),s.addEventListener("click",function(e){e.stopPropagation();let o=Math.round(a.scrollLeft/a.offsetWidth);o<t.length-1&&a.scrollTo({left:(o+1)*a.offsetWidth,behavior:"smooth"})}),a.addEventListener("touchstart",function(e){o=e.touches[0].clientX,e.stopPropagation()}),a.addEventListener("touchend",function(e){n=e.changedTouches[0].clientX,e.stopPropagation(),function e(){let l=Math.round(a.scrollLeft/a.offsetWidth);o-n>50&&l<t.length-1?a.scrollTo({left:(l+1)*a.offsetWidth,behavior:"smooth"}):n-o>50&&l>0&&a.scrollTo({left:(l-1)*a.offsetWidth,behavior:"smooth"})}()})}});